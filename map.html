<!DOCTYPE html>
<html>
<head>
	<title>Leaflet Train Example</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="leaflet.css" />
</head>

<body>
	<!-- Determine the size of the map with style tag -->
	<div id="map" style="width: 1000px; height: 800px"></div>
	<script src="leaflet.js"></script>
	<button type="button" id="button1">Move</button>
	<script>
		var map = L.map('map').setView([51.505, -0.09], 13);
		
		var lokIcon = L.icon({
			iconUrl: 'images/marker-icon.png',
			iconSize:     [48, 18], // size of the icon
			iconAnchor:   [24, 9], // point of the icon which will correspond to marker's location
			popupAnchor:  [0, -5] // point from which the popup should open relative to the iconAnchor
		});

		L.tileLayer('http://tile.openstreetmap.org/{z}/{x}/{y}.png ', {
			maxZoom: 18
		}).addTo(map);

		var marker1 = L.marker([51.5, -0.09],{icon: lokIcon}).addTo(map)
			.bindPopup("<b>Hello world!</b><br />I am a popup.");

		var popup = L.popup();

		function onMapClick(e) {
			popup
				.setLatLng(e.latlng)
				.setContent("You clicked the map at " + e.latlng.toString())
				.openOn(map);
		}

		map.on('click', onMapClick);
		
		document.getElementById("button1").onclick=function(){
			marker1.setLatLng([marker1.getLatLng().lat+0.001,marker1.getLatLng().lng+0.001]).update(marker1);
			map.panTo(new L.LatLng(marker1.getLatLng().lat, marker1.getLatLng().lng));
		}
	</script>
</body>
</html>
